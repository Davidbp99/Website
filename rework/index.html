<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">
         <!-- Primary Meta Tags -->
<title>Freelancer Source Mapper/Developer (David)</title>
<meta name="title" content="Freelancer Source Mapper/Developer (David)" />
<meta name="description" content="Freelancer Source Mapper/Developer for GMod 
My Blog: https://davidswndesign.wordpress.com/ " />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://davidbp99.github.io/Website/" />
<meta property="og:title" content="Source Mapper/Developer (David)" />
<meta property="og:description" content="Source Mapper/Developer for GMod 
My Blog: https://davidswndesign.wordpress.com/ " />
<meta property="og:image" content="https://davidswndesign.files.wordpress.com/2021/10/cropped-unnamed.png" />

<!-- Twitter -->
<meta property="twitter:card" content="https://davidswndesign.files.wordpress.com/2021/10/cropped-unnamed.png" />
<meta property="twitter:url" content="https://davidbp99.github.io/Website/" />
<meta property="twitter:title" content="Freelancer Source Mapper/Developer (David)" />
<meta property="twitter:description" content="Source Mapper/Developer for GMod 
My Blog: https://davidswndesign.wordpress.com/ " />
<meta property="twitter:image" content="https://davidswndesign.files.wordpress.com/2021/10/cropped-unnamed.png" />
<meta property="og:image" content="https://davidswndesign.files.wordpress.com/2021/10/cropped-unnamed.png">
<meta name="keywords" content="gmod,s&box,sbox,Garry's Mod,Source Mapping,Hammer Editor,Get custom gmod map,custom map,custom source map">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/unicons.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
     <link rel="stylesheet" href="css/tooplate-style.css">
</head>
<body class="dark-mode">
    <header>
 <nav class="navbar navbar-expand-sm navbar-light">
        <div class="container">
            <a class="navbar-brand" href="index.html"><i class='uil uil-user'></i> David</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a href="#about" class="nav-link"><span data-hover="About">About</span></a>
                    </li>
                    <li class="nav-item">
                        <a href="https://davidswndesign.wordpress.com/" class="nav-link"><span data-hover="Blog">Blog</span></a>
                    </li>
                    <li class="nav-item">
                        <a href="#portfolio" class="nav-link"><span data-hover="Portfolio">Portfolio</span></a>
                    </li>
                    <li class="nav-item">
                     <li class="nav-item">
                        <a href="#Service" class="nav-link"><span data-hover="Service">Services</span></a>
                    </li>
<li class="nav-item">
                        <a href="#reviews" class="nav-link"><span data-hover="Reviews">Reviews</span></a>
                    </li>
                      <li class="nav-item">
                        <a href="#faq" class="nav-link"><span data-hover="FAQ">FAQ</span></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    </header>

    <section id="hero" class="hero">
        <div class="container text-center">
                              <h1 class="animated animated-text">
                            <span class="display-4">Hey Server Owners, I'm</span>
                                <div class="animated-info">
                                    <span class="animated-item display-4" style = "font-style: italic;">David</span>
                                    <span class="animated-item display-4" style = "font-style: italic;">a Source Mapper</span>
                                    <span class="animated-item display-4" style = "font-style: italic;">a Developer</span>
                                </div>
                        </h1>
            <p class="lead">Specializing in Game Design and gLUA</p>
        </div>
    </section>
<div id="discordButtonContainer">
  <a href="https://discord.gg/ezaJDmbxPf" target="_blank">
    <img id="discordButton" src="https://cdn-icons-png.flaticon.com/512/3670/3670157.png" alt="Discord" />
    <span id="discordButtonTooltip">Join my freelancer discord to speak with me, other freelancers, server owners and others</span>
  </a>
</div>

    <section id="about" class="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <img src="https://tf2maps.net/attachments/hammer_hd_icon_g-png.65613/" class="img-fluid" alt="svg image">
                </div>
                <div class="col-lg-6">
                    <h2>About Me</h2>
                    <p class="textaboutme">Swedish guy called David (23 years old.for whoever wanted to know). Started mapping back in 2018 but released my first public map at 2019 in the gamemode darkrp. I love thinking outside the box and creating content with games tools thats out there in the world.<br>

I like working with people and help them reach their goals. This can be from school, thier perfect map or life.</p>

<br>
<h2>How am different as a mapper</h2>
<p class="textaboutme">
  
  - I set fair prices based on work load given by the client (you)<br>
  - I communicate and take time with the map to be sure the client (you) like the end product.<br>
  - I lower the price for returning clients (Sometimes). I as well can have special holiday % off of prices (you will get a code at the end to use if you want % off the total price)<br>


</p>

<h2>My Stats</h2>


                    
                </div>
                <div id="stats" class="row"></div> 
            </div>
        </div>
    </section>
<script>



const MyStats = [
  { statstype: "discord", discordid: "ezaJDmbxPf", forcedvalue: "", link: "test", description: `I created a discord community around gaming and as well as content making. Where lot of people with skills or not joins in and speaks,chats and learns stuff.`, imageid: "" , imagehost: "" , imageformat: ""},
  { statstype: "gmodstore", discordid: "", forcedvalue: "GmodStore Reputation: 2", link: "https://www.gmodstore.com/users/76561198072640553/reputation", description: "The people I did finish work for on gmodstore wrote reviews on it about how they felt about me. Everyone did not as some wrote on trustpilot instead", imageid: "https://avatars.githubusercontent.com/u/8810709?s=200&v=4" , imagehost: "site" , imageformat: "", buttontext: "Check out my reputation yourself"},
  { statstype: "gmodstore", discordid: "", forcedvalue: "GmodStore Jobs: 5+", link: "#", description: "From my application list I have done over 5 jobs just on gmodstore + some that we finished outside of gmodstore", imageid: "https://avatars.githubusercontent.com/u/8810709?s=200&v=4" , imagehost: "site" , imageformat: "", buttontext: ""},
  { statstype: "gmodstore", discordid: "", forcedvalue: "Trustpilot Reviews: 4", link: "https://www.trustpilot.com/review/safewaycommunity.hxane.com", description: "As I do work outside of gmodstore as well I have used trust pilot for people to write reviews on", imageid: "https://upload.wikimedia.org/wikipedia/commons/7/78/Trustpilot_Logo_%282022%29.svg" ,  imagehost: "site" , imageformat:"" , buttontext: "Check out my reviews yourself"},
  { statstype: "gmodstore", discordid: "", forcedvalue: "Itch.io Store Items: 1", link: "https://daveswn.itch.io", description: "Made this store long time ago for maps. But might soon change it over to Tebex", imageid: "https://static.itch.io/images/app-icon.svg" ,  imagehost: "site" , imageformat:"" , buttontext: "Check out the store yourself"},
  { statstype: "gmodstore", discordid: "", forcedvalue: "Public VMFs And Code: 16 (code) and 9 public vmfs", link: "https://github.com/Davidbp99?tab=repositories", description: "Even tho I done lot of work for communities that cost money. I still like doing free work that people can improve and learn from. I as well started a new project (repositories) with free addons I make david_extras_free", imageid: "https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" ,  imagehost: "site" , imageformat:"" , buttontext: "Check out my github yourself"},
  { statstype: "gmodstore", discordid: "", forcedvalue: "Map Edits 10+ / Maps Fixing 10+ / From The Ground Up 5 / Clients Worked With: 10+", link: "#", description: "Even I done some jobs on gmodstore and outside. I have assisted lot of server owners, mappers, devs etc when I randomly joined their community out of the blue.", imageid: "https://avatars.githubusercontent.com/u/40523727?v=4" ,  imagehost: "site" , imageformat:"" , buttontext: ""},
  { statstype: "gmodstore", discordid: "", forcedvalue: "Tebex Store: 2 small addons", link: "https://david-addons-maps-discord.tebex.io/category/small-addons", description: "Tebex is my store for my addons I sell. Soon as well might replace one map from Itch.io on it.", imageid: "https://avatars.githubusercontent.com/u/59729610?s=280&v=4" ,  imagehost: "site" , imageformat:"" , buttontext: "Check out my addons store"},
  { statstype: "gmodstore", discordid: "", forcedvalue: "Steam Workshop Uploads: 8 Maps + some edits of scripts (some are privated maybe)", link: "https://steamcommunity.com/id/davidswn/myworkshopfiles/?p=1", description: "View some of my public work that you can use (maps and code)", imageid: "https://testmatick.com/wp-content/uploads/2020/04/Logotip-Steam.jpg" ,  imagehost: "site" , imageformat:"" , buttontext: "Check out my workshop uploads"},
];
// Function to create a server row
function createStatsRow(stats) {
  let image;
        if (stats.imagehost == "imgur") {
    image = `https://i.imgur.com/${stats.imageid}.${stats.imageformat}`;
  } else if (stats.imagehost == "gyazo") {
    image = `https://i.gyazo.com/${stats.imageid}.${stats.imageformat}`;
  } 
  else if (stats.imagehost == "site") {
    image = `${stats.imageid}` ;
  }



 if (stats.statstype == "discord") {
  const title = $('<h5>').text('Discord Members:' + stats.discordMemberCount).addClass('card-title');
    const statsRow = $('<div>').addClass('col-lg-4 mb-4').append(
    $('<div>').addClass('card2').append(
      $('<div>').addClass('server-info').append(
        $('<img>').addClass('stats-image').attr('src',stats.discordIcon),
          $('<p>').append(title),
        $('<p>').addClass('card-text').text('Description: ' + stats.description),
          
      ),
      $('<div>').addClass('button-container').append(
          $('<a>').text('Join Discord Server').addClass('join-discord-button btn btn-primary').attr('href', `https://discord.gg/${stats.discordinvite}`).attr('target', '_blank'),

      )
    )
  )
return statsRow;
          }else if (stats.statstype == "gmodstore" && stats.buttontext !== "") {
            const title = $('<h5>').text(stats.forcedvalue).addClass('card-title');
    const statsRow = $('<div>').addClass('col-lg-4 mb-4').append(
    $('<div>').addClass('card2').append(
      $('<div>').addClass('server-info').append(
        $('<img>').addClass('stats-image').attr('src',image),
          $('<p>').append(title),
        $('<p>').addClass('card-text').text(stats.description),
          
      ),
      
      $('<div>').addClass('button-container').append(
          $('<a>').text(`${stats.buttontext}`).addClass('join-discord-button btn btn-primary').attr('href', `${stats.link}`).attr('target', '_blank'),

      )
    )
  )
return statsRow;
          } 

        else if (stats.statstype == "gmodstore" && stats.buttontext === "") {
          const title = $('<h5>').text(stats.forcedvalue).addClass('card-title');
    const statsRow = $('<div>').addClass('col-lg-4 mb-4').append(
    $('<div>').addClass('card2').append(
      $('<div>').addClass('server-info').append(
        $('<img>').addClass('stats-image').attr('src',image),
          $('<p>').addClass('card-text').append(title),
        $('<p>').addClass('card-text').text(stats.description),
          
      ),

    )
  )
return statsRow;
          }
}


// Function to render the server rows
function renderStatsRow() {

  const shuffledStats = MyStats.sort(() => 0.5 - Math.random());

  shuffledStats.forEach(function(stats,index) {
    if (stats.discordid !== "") {
    const discordUrlStats = `https://discord.com/api/v10/invites/${stats.discordid}?with_counts=true&with_expiration=true`;
    

    const discordPromiseAPIStats = fetch(discordUrlStats).then(response => response.json());
    
    return Promise.all([discordPromiseAPIStats]).then(([discordDataStats]) => {
      stats.discordinvite = stats.discordid;
      stats.discordMemberCount = discordDataStats.approximate_member_count;
      stats.discordIcon = `https://cdn.discordapp.com/icons/${discordDataStats.guild.id}/${discordDataStats.guild.icon}.png`;
    
        const statsRow = createStatsRow(stats);

        $('#stats').append(statsRow);
        
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }else if (stats.discordid === "") {
        const statsRow = createStatsRow(stats);

        $('#stats').append(statsRow);
        

    }
  });
}






</script>







    <section id="portfolio" class="py-5">
        <div class="container">
            <h2 class="text-center">Portfolio Maps</h2>
           
  <script>

    const portfolios = [

      { title: "Hogwarts RP Map (wizzardrp)" , randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "JqEMQRb", imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/5QrBvWu", description: "Hogwartsrp (or now after copyright fights WizzardRP) map that I edited, optimized and made fully new areas for for a client", extradbutton: "https://discord.gg/ezaJDmbxPf", extrabuttontext: "Is sold on my discord at near 50% off" },
      { title: "Custom Building" ,randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "SAKBSJq",imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/s8HVzzD", description: "Very small work for a client of some small custom buildings (until they just wanted copy and pasted ones that I disliked but still did)", extradbutton: "", extrabuttontext: "" },
      { title: "DaveTown" ,randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "NaFZlkW", imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/xRutpB0", description: "Started this as a side project to create a new darkrp map. Then its been put on and off. First map I started to use glua into as well for custom map entities", extradbutton: "", extrabuttontext: "" },
      { title: "Evilmelon_v1 Edit" ,randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "dDO7cdV", imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/8X9Mp88", description: "I made this map for a client that later on ghosted me (user is banned on gmodstore now for ghosting people)", extradbutton: "https://www.gmodstore.com/users/76561198092852011", extrabuttontext: "View client in question (dont throw hate)" },
      { title: "rp_downtown_nemesis_v2" ,randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "yGAKXsB",imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/pqLO7Nf", description: "I did two kind of versions of this. One snow and one normal for this client. I returned to this client lot of times editing and improving his map.", extradbutton: "", extrabuttontext: "" },
      { title: "rp_downtown_tits_v2_vn (used to be called LucidRP/Vigilante Networks/Crown Networks/BlobRP/Now Eclipse Network)" ,randomid: "" , chatid: "" , imagehost: "site" , imageid: "https://steamuserimages-a.akamaihd.net/ugc/1753568711089583120/B304DF41C38FA08B088AD11F109A725E159E23FD/?imw=637&imh=358&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=true",imageformat: "jpg", type: "map", buttonlink: "https://steamcommunity.com/sharedfiles/filedetails/?id=1950836554", description: "I did this map for a server owner that ran a darkrp community. Where the owner later on self learned mapping and done lot of edits to it. This was the first time I worked with another mapper called Down (Maker of gRust) (click the button to find his steam)", extradbutton: "", extrabuttontext: "" },
      { title: "rp_downtown_nemesis_v2" ,randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "yGAKXsB",imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/pqLO7Nf", description: "I did two kind of versions of this. One snow and one normal for this client. I returned to this client lot of times editing and improving his map.", extradbutton: "", extrabuttontext: "" },
      { title: "rp_downtown_nemesis_v2" ,randomid: "" , chatid: "" , imagehost: "imgur" , imageid: "yGAKXsB",imageformat: "jpg", type: "map", buttonlink: "https://imgur.com/a/pqLO7Nf", description: "I did two kind of versions of this. One snow and one normal for this client. I returned to this client lot of times editing and improving his map.", extradbutton: "", extrabuttontext: "" },
      
      
      { title: "DarkRP Code" ,randomid: "1125436528756277259" , chatid: "1124690128523239434" , imagehost: "imgur" , imageid: "JqEMQRb", imageformat: "jpg", type: "glua", buttonlink: "https://codebeautify.org/jsvalidate", description: "this code is nice", extradbutton: "", extrabuttontext: "" },
    ];

    function createPortfiloRows(portfolio) {
      let image;
        if (portfolio.imagehost == "imgur") {
    image = `https://i.imgur.com/${portfolio.imageid}.${portfolio.imageformat}`;
  } else if (portfolio.imagehost == "gyazo") {
    image = `https://i.gyazo.com/${portfolio.imageid}.${portfolio.imageformat}`;
  } else if (portfolio.imagehost == "discord") {
    image = `https://cdn.discordapp.com/attachments/${portfolio.chatid}/${portfolio.randomid}/${portfolio.randomid}.${portfolio.imageformat}`;
  } else if (portfolio.imagehost == "site") {
    image = `${portfolio.imageid}` ;
  }

if (portfolio.type == "map"){
  if (portfolio.extradbutton === ""){
      const title = $('<h5>').text(portfolio.title).addClass('card-title');
      const details = $('<a>').text('View More Images').addClass('btn btn-primary').attr('href', portfolio.buttonlink).attr('target', '_blank');
      const description = $('<p>').text(portfolio.description).addClass('card-text');


      // Here we create our special cards so it look fancy
      const Colums = $('<div>').addClass('col-lg-4 mb-4').append(
        $('<div>').addClass('card').append(
            $('<img>').addClass('card-img-top').attr('src',image),
             $('<div>').addClass('server-info').append(title),
                $('<div>').addClass('card-text').append(description,details)));
      return Colums;
                }else  if (portfolio.extradbutton !== ""){
      const title = $('<h5>').text(portfolio.title).addClass('card-title');
      const details = $('<a>').text('View More Images').addClass('btn btn-primary').attr('href', portfolio.buttonlink).attr('target', '_blank');
        const detailsextra = $('<a>').text(portfolio.extrabuttontext).addClass('btn btn-secondary').attr('href', portfolio.extradbutton).attr('target', '_blank');
      const description = $('<p>').text(portfolio.description).addClass('card-text');


      // Here we create our special cards so it look fancy
      const Colums = $('<div>').addClass('col-lg-4 mb-4').append(
        $('<div>').addClass('card').append(
            $('<img>').addClass('card-img-top').attr('src',image),
             $('<div>').addClass('server-info').append(title),
                $('<div>').addClass('card-text').append(description,details,detailsextra)));
      return Colums;
                }
                }else if (portfolio.type == "glua"){
                  if (portfolio.extradbutton !== ""){
      const title = $('<h5>').text(portfolio.title).addClass('card-title');
      const details = $('<a>').text('Join My Discord To View Configs').addClass('btn btn-primary').attr('href', portfolio.buttonlink).attr('target', '_blank');
      const description = $('<p>').text(portfolio.description).addClass('card-text');


      // Here we create our special cards so it look fancy
      const Colums = $('<div>').addClass('col-lg-4 mb-4').append(
        $('<div>').addClass('card').append(
            $('<img>').addClass('card-img-top').attr('src',image),
             $('<div>').addClass('server-info').append(title),
                $('<div>').addClass('card-text').append(description,details)));
      return Colums;
                }else if (portfolio.extradbutton === ""){
      const title = $('<h5>').text(portfolio.title).addClass('card-title');
      const details = $('<a>').text('Join My Discord To View Configs').addClass('btn btn-primary').attr('href', portfolio.buttonlink).attr('target', '_blank');
        const detailsextra = $('<a>').text(portfolio.extrabuttontext).addClass('btn btn-secondary').attr('href', portfolio.extradbutton).attr('target', '_blank');
      const description = $('<p>').text(portfolio.description).addClass('card-text');


      // Here we create our special cards so it look fancy
      const Colums = $('<div>').addClass('col-lg-4 mb-4').append(
        $('<div>').addClass('card').append(
            $('<img>').addClass('card-img-top').attr('src',image),
             $('<div>').addClass('server-info').append(title),
                $('<div>').addClass('card-text').append(description,details,detailsextra)));
      return Colums;
                }

                }
}


    // Function to render the server rows
    function renderPortfolioRows() {
    
      // Iterate over the servers array
      portfolios.forEach(function (portfolio) {
        // Create a row for each server
        const Colums = createPortfiloRows(portfolio);

        // here we do our fancy spliting between service
        if (portfolio.type == "glua") {
        $('#portfolisrowsglua').append(Colums);
    } else if (portfolio.type == "map") {
        $('#portfolisrowsmap').append(Colums);
    }


   
      });
    }

    

</script>
            <div class="row" id="portfolisrowsmap"> </div>
            <h2 class="text-center">Portfolio gLUA</h2>
            <div class="row" id="portfolisrowsglua"> </div>
           
        </div>

    </section>
<section id="partnerlist" class="partners">
  <h1 class="text-center">Partners List</h1>
  <div id="serverList" class="row"></div> 
  
      

  <script>

// Use discord for freelancer discords or discord community.
// Use gameserver for game servers. Can be any game that battlemetrics supports
const servers = [
  { battlemetricid: "21812512", discordid: "DUuZNXeANx", grupname: "", description: ``, partnertype: "gameserver" },
 // { battlemetricid: "5153368", discordid: "DUuZNXeANx", grupname: "51512", description: "3", partnertype: "discord" },
];
 var count = 0
// Function to create a server row
function createServerRow(server) {
  var count = count + 1
  if (server.type == "discord") {
    const serverRow = $('<div>').addClass('col-lg-4 mb-4').append(
    $('<div>').addClass('card2').append(
      $('<div>').addClass('server-info').append(
        $('<img>').addClass('server-image').attr('src',server.discordIcon),
          $('<p>').addClass('card-text').text('Discord Members:' + server.discordMemberCount ),
        $('<p>').addClass('card-text').text('Description: ' + server.description),
          
      ),
      $('<div>').addClass('button-container').append(
          $('<a>').text('Join Discord Server').addClass('join-discord-button btn btn-secondary btn-lg btn-block').attr('href', `https://discord.gg/${server.discordinvite}`).attr('target', '_blank'),

      )
    )
  )
return serverRow;



  }else if (server.type == "gameserver" && server.grupname === "")  {
  const serverRow = $('<div>').addClass('col-lg-4 mb-4').append(
    $('<div>').addClass('card2').append(
      $('<div>').addClass('server-info').append(
        $('<img>').addClass('server-image').attr('src',server.discordIcon),
        $('<div>').addClass('server-info').append(server.name),
        $('<p>').addClass('card-text').text('GameServer: IP: ' + server.ip +":"+ server.port+' Players: ' + server.players+"/"+ server.maxPlayers),
          $('<p>').addClass('card-text').text('Discord Members:' + server.discordMemberCount ),
        $('<p>').addClass('card-text').text('Description: ' + server.description),
          
      ),
      $('<div>').addClass('button-container').append(
        $('<a>').text('Join Game Server').addClass('join-game-button btn btn-primary').attr('href', 'steam://connect/' + server.ip+":"+server.port).attr('target', '_blank'),
          $('<a>').text('Join Discord Server').addClass('join-discord-button btn btn-secondary').attr('href', `https://discord.gg/${server.discordinvite}`).attr('target', '_blank'),

      )
    )
  )
  
  return serverRow;

}else if (server.type == "gameserver" && server.grupname !== "")  {
  const serverRow = $('<div>').addClass('col-lg-4 mb-4').append(
    $('<div>').addClass('card2').append(
      $('<div>').addClass('server-info').append(
        $('<img>').addClass('server-image').attr('src',server.discordIcon),
        $('<div>').addClass('server-info').append(server.name),
        $('<p>').addClass('card-text').text('GameServer: IP: ' + server.ip +":"+ server.port+' Players: ' + server.players+"/"+ server.maxPlayers),
          $('<p>').addClass('card-text').text('Discord Members:' + server.discordMemberCount ),
        $('<p>').addClass('card-text').text('Description: ' + server.description),
          
      ),
      $('<div>').addClass('button-container').append(
        $('<a>').text('Join Game Server').addClass('join-game-button btn btn-primary').attr('href', 'steam://connect/' + server.ip+":"+server.port).attr('target', '_blank'),
          $('<a>').text('Join Discord Server').addClass('join-discord-button btn btn-secondary').attr('href', `https://discord.gg/${server.discordinvite}`).attr('target', '_blank'),
            $('<a>').text('Join Steam Group').addClass('join-discord-button btn btn-success').attr('href', `https://steamcommunity.com/groups/${server.grupname}`).attr('target', '_blank'),

      )
    )
  )
  
  return serverRow;}
  

  return null;
}


// Function to render the server rows
function renderServerRows() {
  $('#serverList').empty();
  // Here we make it fair and make it shuffle
  const shuffledServers = servers.sort(() => 0.5 - Math.random());

  // select 6 of the table values above
  const selectedServers = shuffledServers.slice(0, 8);
  selectedServers.forEach(function(server,index) {
    if (server.partnertype == "gameserver") {
    const discordUrl = `https://discord.com/api/v10/invites/${server.discordid}?with_counts=true&with_expiration=true`;
    const battleMetricsAPI = 'https://api.battlemetrics.com/servers/' + server.battlemetricid;


    const battleMetricsPromiseAPI = fetch(battleMetricsAPI).then(response => response.json());
    const discordPromiseAPI = fetch(discordUrl).then(response => response.json());
    
    return Promise.all([battleMetricsPromiseAPI, discordPromiseAPI]).then(([battleMetricsData, discordData]) => {
        const serverData = battleMetricsData.data.attributes;
        server.ip = serverData.ip;
        server.port = serverData.port;
        server.players = serverData.players;
        server.maxPlayers = serverData.maxPlayers;
        server.name = serverData.name;
        server.type = server.partnertype;
        server.discordinvite = server.discordid;
        server.discordMemberCount = discordData.approximate_member_count;
        server.discordIcon = `https://cdn.discordapp.com/icons/${discordData.guild.id}/${discordData.guild.icon}.png`;

        const serverRow = createServerRow(server);
        // bit tricky way of forcing it to display 6 without stopping at 5 or less
        if ((index + 1) === 7) {

          
        }else {
        $('#serverList').append(serverRow);
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }else if (server.partnertype == "discord") {
    const discordUrl = `https://discord.com/api/v10/invites/${server.discordid}?with_counts=true&with_expiration=true`;
    

    const discordPromiseAPI = fetch(discordUrl).then(response => response.json());
    
    return Promise.all([discordPromiseAPI]).then(([discordData]) => {
        server.type = server.partnertype;
        server.discordinvite = server.discordid;
        server.discordMemberCount = discordData.approximate_member_count;
        server.discordIcon = `https://cdn.discordapp.com/icons/${discordData.guild.id}/${discordData.guild.icon}.png`;

        const serverRow = createServerRow(server);
        // bit tricky way of forcing it to display 6 without stopping at 5 or less
        if ((index + 1) === 7) {
          
        }else {
        $('#serverList').append(serverRow);
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  });
}

setInterval(renderServerRows, 300000);

  </script>
</section>



<section id="service" class="py-5">
  <div class="container">
    <script>

      const services = [
      
      { title: "Low Map Protection" ,randomid: "1125436528756277259" , chatid: "1124690128523239434" , imagehost: "imgur" , imageid: "JqEMQRb", imageformat: "jpg", type: "map", buttonlink: "", description: "For 45eur you are getting the very basic protection of no_decomp, locked texture, protector brush flag.", price: "Price: 45 eur" },
      { title: "Medium Map Protection",randomid: "1125436528756277259" , chatid: "1124690128523239434" , imagehost: "imgur" ,imageid: "JqEMQRb",imageformat: "jpg", type: "map", buttonlink: "https://gyazo.com/2c3a006886c1ba5a5abaeed148299f1b", description: "For 55eur you are getting the map protection #1 + IID Version that works fine with skybox", price: "Price: 55 eur" },
      { title: "High Map Protection",randomid: "1125436528756277259" , chatid: "1124690128523239434" ,imagehost: "imgur" ,imageid: "JqEMQRb", imageformat: "jpg", type: "map", buttonlink: "https://www.youtube.com/watch?v=er5ItihECCw", description: `For 65eur you are getting the map protection low and medium + You get the map entities in its own file. So you can give the bsp file to your players and keep the map entities server sided. This is normally used by big servers as superior and icefuse + Server map restricted`,price: "Price: 65 eur" },
            { title: "DarkRP Code",randomid: "1125436528756277259" , chatid: "1124690128523239434" , imagehost: "imgur" ,imageid: "JqEMQRb", imageformat: "jpg", type: "glua", buttonlink: "https://codebeautify.org/jsvalidate", description: "this code is nice", price: "Price: 6152 eur" },
                  { title: "DarkRP Code",randomid: "1125436528756277259",chatid: "1124690128523239434" , imagehost: "imgur" ,imageid: "JqEMQRb", imageformat: "jpg", type: "glua", buttonlink: "https://codebeautify.org/jsvalidate", description: "this code is nice",price: "Price: 65 eur"  },
      ];
      
      function createserviceListing(serviceslist) {
        let image;
        if (serviceslist.imagehost == "imgur") {
    image = `https://i.imgur.com/${serviceslist.imageid}.${serviceslist.imageformat}`;
  } else if (serviceslist.imagehost == "gyazo") {
    image = `https://i.gyazo.com/${serviceslist.imageid}.${serviceslist.imageformat}`;
  } else if (serviceslist.imagehost == "discord") {
    image = `https://cdn.discordapp.com/attachments/${serviceslist.chatid}/${serviceslist.randomid}/${serviceslist.randomid}.${serviceslist.imageformat}`;
  } else if (serviceslist.imagehost == "site") {
    image = `${serviceslist.imageid}` ;
  }
      const title = $('<h5>').text(serviceslist.title).addClass('card-title');
  
      const details = $('<a>').text('View Details').addClass('btn btn-primary').attr('href', serviceslist.buttonlink).attr('target', '_blank');
     
      const description = $('<p>').text(serviceslist.description).addClass('card-text');
      const priceofservice = $('<p>').text(serviceslist.price).addClass('price-text');
    
     
      if (serviceslist.buttonlink === "") {
      const ColumsService = $('<div>').addClass('col-lg-4 mb-4').append(
        $('<div>').addClass('cardservice').append(
            $('<img>').addClass('card-img-top').attr('src',image),
             $('<div>').addClass('server-info').append(title),
                $('<div>').addClass('card-text').append(description,priceofservice)));
                  return ColumsService;
                }
          const ColumsService = $('<div>').addClass('col-lg-4 mb-4').append(
        $('<div>').addClass('cardservice').append(
            $('<img>').addClass('card-img-top').attr('src',image),
             $('<div>').addClass('server-info').append(title),
                $('<div>').addClass('card-text').append(description,priceofservice,details)));
                
      return ColumsService;
      }
      
      

      function createserviceListingRows() {
      

      services.forEach(function (service) {

        const ColumsService = createserviceListing(service);
      
    // here we do our fancy spliting between service 
        if (service.type == "map") {
        $('#Servicemap').append(ColumsService);
      } else if (service.type == "glua") {
        $('#Servicelua').append(ColumsService);
      }
      
      
      
      });
      }
      
      
      
      </script> 
      <h2 class="text-center">Maps Service</h2>

      <div class="row" id="Servicemap"> </div>
      <h2 class="text-center">gLUA Service</h2>
      <div class="row" id="Servicelua"> </div>
     
  </div>
<script>

      // we call it here as calling it above would kill it self
      renderServerRows();
    renderPortfolioRows();
  createserviceListingRows();
  renderStatsRow();
</script>
</section>





    <footer class="bg-dark text-white text-center py-3">
        <p style="color: white;">&copy; <?php echo date("Y"); ?> Davids Website. All rights reserved.</p>
    </footer>


    <script src="js/Headroom.js"></script>
    <script src="js/jQuery.headroom.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>